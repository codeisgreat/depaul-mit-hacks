<div class="before-upload">
NAME <input type='text' id='name' /><br/><br/>
POWERPOINT <button id="upload">Upload File</button>

<script type="text/javascript">
  (function(a){if(window.filepicker){return}var b=a.createElement("script");b.type="text/javascript";b.async=!0;b.src=("https:"===a.location.protocol?"https:":"http:")+"//api.filepicker.io/v1/filepicker.js";var c=a.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c);var d={};d._queue=[];var e="pick,pickMultiple,pickAndStore,read,write,writeUrl,export,convert,store,storeUrl,remove,stat,setKey,constructWidget,makeDropPane".split(",");var f=function(a,b){return function(){b.push([a,arguments])}};for(var g=0;g<e.length;g++){d[e[g]]=f(e[g],d._queue)}window.filepicker=d})(document); 
</script>

<script type="text/javascript">
  filepicker.setKey('A1L2uYLNQCeVShNoHVedBz');

  $('#upload').click(function(e) {
      filepicker.pick(function(file) {
        $('.before-upload').fadeOut();
        $('.during-upload').fadeIn();
        $.post( "/events/<%= @event.id %>/slideshows", { 
          url: file.url,
          event_id: <%= @event.id %>,
          name: document.getElementById('name').value
        }).done(function( data ) { 
          // TODO 
        });
      });
  });
</script>
</div>

<div class="during-upload">

  Uploading...

</div>